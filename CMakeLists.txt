CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

PROJECT(jakopter)

FIND_PACKAGE(Threads REQUIRED)
FIND_PACKAGE(Lua51)

INCLUDE_DIRECTORIES("include/")
INCLUDE_DIRECTORIES(${LUA_INCLUDE_DIR})

SET(CMAKE_BUILD_TYPE DEBUG)

SET(CMAKE_LIBRARY_OUTPUT_DIRECTORY build/${CMAKE_BUILD_TYPE})

# Voir ADD_SUBDIRECTORY
SET(
	SRC_FILES
	src/drone.c
	src/navdata.c
	src/lua_bindings.c
)

ADD_LIBRARY(
	jakopter SHARED 
	${SRC_FILES}	
)

TARGET_LINK_LIBRARIES(jakopter ${CMAKE_THREAD_LIBS_INIT})

